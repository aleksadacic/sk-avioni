<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
    <link th:href="@{styles.css}" rel="stylesheet">
    <title>RAF Airlines</title>
</head>
<body>

    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <h1>Admin</h1>
    </nav>

    <div class="defaultpage container m-auto mt-5 bg-none">
        <div class="row">
            <div class="col-6">
                <div class="flights table-responsive">
                    <h1>Flights</h1>

                    <table class="table">
                        <thead>
                        <tr>
                        	<th scope="col">id</th>
                            <th scope="col">Flight</th>
                            <th scope="col">Length</th>
                            <th scope="col">Airplane</th>
                            <th scope="col">Price</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr th:each="flight : ${flights}" id="flight">
                        	<td th:text="${flight.id}"></td> 
                            <td th:text="${flight.pocetnaDestinacija + ' ' +  flight.krajnjaDestinacija}"></td>
                            <td th:text="${flight.duzinaLeta}"></td>
                            <td th:text="${flight.avion}"></td>
                            <td th:text="${flight.cena}"></td>
                            <td>
	                           	<form class="row g-4 d-flex flex-column" method="get" th:action="@{'/deleteFlight/{flight}'(flight=${flight.id})}">
				                     <div class="col-auto">
				                         <button type="submit" class="btn btn-primary mb-3 bg-danger" id="deleteFlight">Delete</button>
				                     </div>
				                </form>
                            </td>
                        </tr>
                        </tbody>
                    </table>

                    <nav aria-label="Page navigation example">
                        <ul class="pagination justify-content-left">
                            <li class="page-item disabled">
                                <a class="page-link" href="#" tabindex="-1" aria-disabled="true">Previous</a>
                            </li>
                            <li class="page-item"><a class="page-link" href="#">1</a></li>
                            <li class="page-item"><a class="page-link" href="#">2</a></li>
                            <li class="page-item"><a class="page-link" href="#">3</a></li>
                            <li class="page-item">
                                <a class="page-link" href="#">Next</a>
                            </li>
                        </ul>
                    </nav>
                </div>
            </div>
            <div class="col-6">
                <div class="flights table-responsive">
                    <h1>Airplanes</h1>

                    <table class="table">
                        <thead>
                        <tr>
                        	<th scope="col">id</th>
                            <th scope="col">Airplane Model</th>
                            <th scope="col">Capacity</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr th:each="plane : ${planes}">
                         	<td th:text="${plane.id}"></td>
                            <td th:text="${plane.naziv}"></td>
                            <td th:text="${plane.kapacitet}"></td>
                            <td>
	                           	<form class="row g-4 d-flex flex-column" method="get" th:action="@{'/deletePlane/{plane}'(plane=${plane.id})}">
				                     <div class="col-auto">
				                         <button type="submit" class="btn btn-primary mb-3 bg-danger" id="deleteFlight">Delete</button>
				                     </div>
				                </form>
                            </td>
                        </tr>
                        </tbody>
                    </table>

                    <nav aria-label="Page navigation example">
                        <ul class="pagination justify-content-left">
                            <li class="page-item disabled">
                                <a class="page-link" href="#" tabindex="-1" aria-disabled="true">Previous</a>
                            </li>
                            <li class="page-item"><a class="page-link" href="#">1</a></li>
                            <li class="page-item"><a class="page-link" href="#">2</a></li>
                            <li class="page-item"><a class="page-link" href="#">3</a></li>
                            <li class="page-item">
                                <a class="page-link" href="#">Next</a>
                            </li>
                        </ul>
                    </nav>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-6">
                <form  th:action="@{/addNewFlight}" th:object="${noviLet}" method="post">
                    <div class="form-group mb-2">
                        <input th:field="*{pocetnaDestinacija}" type="text" class="form-control" required placeholder="Departure">
                    </div>
                    <div class="form-group mb-2">
                        <input th:field="*{krajnjaDestinacija}" type="text" class="form-control" required placeholder="Arrival">
                    </div>
                    <div class="form-group mb-2">
                        <input th:field="*{duzinaLeta}" type="text" class="form-control" required placeholder="Length">
                    </div>
                    <div class="form-group mb-2">
                        <input th:field="*{avionid}" type="text" class="form-control" required placeholder="Airplane">
                    </div>
                    <div class="form-group mb-2">
                        <input th:field="*{cena}" type="text" class="form-control" required placeholder="Price">
                    </div>
                    <button type="submit" class="btn btn-primary mb-3 bg-danger">Add New Flight</button>
                </form>
            </div>
            <div class="col-6">
                <form th:action="@{/addNewPlane}" th:object="${noviAvion}" method="post">
                    <div class="form-group mb-2">
                        <input th:field="*{naziv}" type="text" class="form-control" required placeholder="Airplane">
                    </div>
                    <div class="form-group mb-2">
                        <input th:field="*{kapacitet}" type="text" class="form-control" required placeholder="Capacity">
                    </div>
                    <button type="submit" class="btn btn-primary mb-3 bg-danger">Add New Airplane</button>
                </form>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script th:src="@{main.js}" type="text/javascript"></script>
</body>
</html>